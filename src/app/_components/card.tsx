import Image from "next/image";
import { Kendaraan } from "../_types/kendaraan";
import { convertRupiah } from "../_utils/helper";
import CardAction from "./CardAction";

type CarCardProps = {
  data: Kendaraan;
};

export default function CarCard({ data }: CarCardProps) {
  const isDisewa = data.statusHariIni === "Disewa";

  return (
    <div
      className={`w-full border border-netral-400 bg-netral-100 rounded-2xl flex flex-col p-3  ${
        isDisewa
          ? "bg-netral-200 grayscale cursor-not-allowed"
          : " hover:-translate-y-1 duration-300 hover:shadow-sm"
      }`}
    >
      <div className="relative h-[240px] w-full mb-4 rounded-xl overflow-hidden">
        <Image
          src={data.imageKendaraan?.[0]?.url_gambar || "/emptyImage.jpg"}
          alt="Empty Image"
          quality={100}
          fill
          className={`rounded-xl object-contain `}
        />
        {isDisewa && (
          <p className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-5xl font-bold text-netral-100">
            Disewa
          </p>
        )}
      </div>

      <div className="flex flex-col gap-4 flex-grow">
        <h3 className="font-semibold  text-netral-900">
          {data.nama_kendaraan}
        </h3>

        <div className="grid grid-cols-2 gap-y-3 gap-x-4 text-netral-600 text-sm">
          <div className="flex items-center gap-2">
            <span>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M14.4931 9.82688L14.5864 10.2869C14.688 10.6798 14.6051 11.0977 14.3612 11.4221C14.1172 11.7465 13.7388 11.9421 13.3331 11.9535H10.7931C10.7937 13.0326 9.9382 13.9176 8.85975 13.9535H3.33308C2.72277 13.9434 2.15049 13.6552 1.77908 13.1708C1.40767 12.6864 1.2778 12.0589 1.42641 11.4669L1.56641 10.8002C1.7292 9.88184 2.5205 9.20797 3.45308 9.19354H8.74641C8.98265 8.9112 9.3316 8.7477 9.69975 8.74688H13.2264C13.8491 8.76674 14.375 9.21516 14.4931 9.82688ZM13.3197 10.9469C13.4011 10.9439 13.4768 10.9048 13.5264 10.8402C13.6136 10.7522 13.6575 10.6302 13.6464 10.5069L13.5531 10.0469C13.535 9.89786 13.4158 9.78142 13.2664 9.76688H9.73974C9.66302 9.76739 9.59116 9.80455 9.54641 9.86687C9.35524 10.087 9.07799 10.2135 8.78641 10.2135H3.49308C3.03669 10.2247 2.65427 10.5621 2.58641 11.0135L2.44641 11.6802C2.37803 12.0085 2.45859 12.3503 2.66641 12.6135C2.82874 12.8183 3.07204 12.9424 3.33308 12.9535H8.83974C9.37628 12.9179 9.7886 12.4644 9.77308 11.9269C9.78397 11.3824 10.2285 10.9468 10.7731 10.9469H13.3197Z"
                  fill="#196FEB"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M8.73308 5.33354C8.73308 6.8063 7.53917 8.00021 6.06641 8.00021C4.59365 8.00021 3.39974 6.8063 3.39974 5.33354V4.28687C3.39974 3.04976 4.40262 2.04688 5.63974 2.04688H6.51308C7.74238 2.05785 8.73312 3.05753 8.73308 4.28687V5.33354ZM5.63974 3.04687C4.95491 3.04687 4.39974 3.60204 4.39974 4.28687L4.41974 5.33354C4.52614 6.17299 5.24024 6.8023 6.08641 6.8023C6.93257 6.8023 7.64668 6.17299 7.75308 5.33354V4.28687C7.75308 3.60204 7.19791 3.04687 6.51308 3.04687H5.63974Z"
                  fill="#196FEB"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M13.7864 5.50021C13.7864 6.60478 12.891 7.50021 11.7864 7.50021C10.6818 7.50021 9.78641 6.60478 9.78641 5.50021V4.73354C9.7863 3.81602 10.5223 3.06811 11.4397 3.05354H12.1064C13.0342 3.05354 13.7864 3.8057 13.7864 4.73354V5.50021ZM11.4531 4.06688C11.0849 4.06688 10.7864 4.36535 10.7864 4.73354V5.50021C10.7864 6.05249 11.2341 6.50021 11.7864 6.50021C12.3387 6.50021 12.7864 6.05249 12.7864 5.50021V4.73354C12.7864 4.36535 12.4879 4.06688 12.1197 4.06688H11.4531Z"
                  fill="#196FEB"
                />
              </svg>
            </span>
            <span>{data.kapasitas_penumpang} Penumpang</span>
          </div>
          <div className="flex items-center gap-2">
            <span>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M8.97334 1.87392L12.9733 4.09392C13.6091 4.44806 14.0022 5.11955 14 5.84725V10.1539C14.0022 10.8816 13.6091 11.5531 12.9733 11.9073L8.97334 14.1273C8.36823 14.4644 7.63178 14.4644 7.02668 14.1273L3.02668 11.9073C2.39096 11.5531 1.99777 10.8816 2.00001 10.1539V5.84725C1.99777 5.11955 2.39096 4.44806 3.02668 4.09392L7.02668 1.87392C7.63178 1.53682 8.36823 1.53682 8.97334 1.87392ZM12.46 11.0339C12.7759 10.8532 12.9715 10.5178 12.9733 10.1539V5.84725C12.9715 5.48335 12.7759 5.14801 12.46 4.96725L8.46001 2.74725C8.15746 2.5787 7.78923 2.5787 7.48668 2.74725L3.48668 4.96725C3.17084 5.14801 2.97522 5.48335 2.97334 5.84725V10.1539C2.97522 10.5178 3.17084 10.8532 3.48668 11.0339L7.48668 13.2539C7.78923 13.4225 8.15746 13.4225 8.46001 13.2539L12.46 11.0339Z"
                  fill="#196FEB"
                />
                <path
                  d="M11.12 5.46725L8.30002 7.03392C8.11438 7.1411 7.88566 7.1411 7.70002 7.03392L4.88002 5.46725C4.72368 5.37576 4.53008 5.37598 4.37395 5.46783C4.21781 5.55969 4.12357 5.7288 4.1276 5.9099C4.13163 6.091 4.23329 6.25576 4.39335 6.34058L7.21335 7.90725C7.3069 7.9569 7.40516 7.9971 7.50669 8.02725V11.0006C7.50669 11.2767 7.73054 11.5006 8.00669 11.5006C8.28283 11.5006 8.50669 11.2767 8.50669 11.0006V8.00059C8.60413 7.97387 8.6981 7.93584 8.78669 7.88725L11.6067 6.32059C11.8415 6.18319 11.9233 5.88329 11.7909 5.64566C11.6585 5.40803 11.3604 5.31987 11.12 5.44725V5.46725Z"
                  fill="#196FEB"
                />
              </svg>
            </span>
            <span>{data.luas_bagasi}</span>
          </div>
          <div className="flex items-center gap-2">
            <span>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M12.8173 5.82117C12.9443 6.13059 13.2452 6.33301 13.5797 6.33398C14.0336 6.33765 14.3997 6.70669 14.3997 7.16065V8.58732C14.3997 9.04387 14.0296 9.41398 13.573 9.41398C13.2385 9.41496 12.9376 9.61738 12.8106 9.9268C12.6837 10.2362 12.7556 10.5917 12.993 10.8273C13.3114 11.1536 13.3114 11.6744 12.993 12.0007L11.993 13.0007C11.6667 13.3191 11.146 13.3191 10.8197 13.0007C10.6692 12.8412 10.4589 12.7518 10.2397 12.754C10.0193 12.7522 9.80729 12.8385 9.65082 12.9937C9.49434 13.149 9.40633 13.3602 9.40634 13.5807C9.40634 14.0372 9.03623 14.4073 8.57967 14.4073H7.15301C6.69645 14.4073 6.32634 14.0372 6.32634 13.5807C6.32635 13.3602 6.23834 13.149 6.08186 12.9937C5.92539 12.8385 5.71341 12.7522 5.49301 12.754C5.27375 12.7518 5.06351 12.8412 4.91301 13.0007C4.58671 13.3191 4.06597 13.3191 3.73967 13.0007L2.73967 12.0007C2.42125 11.6744 2.42125 11.1536 2.73967 10.8273C2.97704 10.5917 3.04902 10.2362 2.92204 9.9268C2.79506 9.61738 2.49414 9.41496 2.15967 9.41398C1.94043 9.41398 1.73016 9.32689 1.57513 9.17186C1.4201 9.01683 1.33301 8.80656 1.33301 8.58732V7.16065C1.33301 6.7041 1.70312 6.33398 2.15967 6.33398C2.49414 6.33301 2.79506 6.13059 2.92204 5.82117C3.04902 5.51174 2.97704 5.15629 2.73967 4.92065C2.42125 4.59435 2.42125 4.07362 2.73967 3.74732L3.73967 2.74732C4.06597 2.4289 4.58671 2.4289 4.91301 2.74732C5.06351 2.90678 5.27375 2.99619 5.49301 2.99398C5.71457 2.99578 5.92757 2.90856 6.08424 2.75189C6.24091 2.59522 6.32813 2.38221 6.32634 2.16065C6.32634 1.7041 6.69645 1.33398 7.15301 1.33398H8.58634C9.0429 1.33398 9.41301 1.7041 9.41301 2.16065C9.41121 2.38221 9.49843 2.59522 9.6551 2.75189C9.81178 2.90856 10.0248 2.99578 10.2463 2.99398C10.4656 2.99619 10.6758 2.90678 10.8263 2.74732C11.1526 2.4289 11.6734 2.4289 11.9997 2.74732L12.9997 3.74732C13.3181 4.07362 13.3181 4.59435 12.9997 4.92065C12.7623 5.15629 12.6903 5.51174 12.8173 5.82117ZM11.8663 9.54065C12.1266 8.90614 12.7225 8.47273 13.4063 8.42065L13.3863 7.32732C12.7099 7.26801 12.1234 6.83578 11.8663 6.20732C11.6146 5.57737 11.7299 4.85999 12.1663 4.34065L11.3997 3.57398C11.0746 3.84626 10.6637 3.995 10.2397 3.99398C9.29491 3.99167 8.50543 3.27422 8.41301 2.33398H7.31967C7.23024 3.27572 6.43898 3.99478 5.49301 3.99398C5.06894 3.995 4.65813 3.84626 4.33301 3.57398L3.58634 4.34065C4.01603 4.86396 4.12358 5.58097 3.86634 6.20732C3.60932 6.83578 3.02274 7.26801 2.34634 7.32732V8.42065C3.02274 8.47996 3.60932 8.91218 3.86634 9.54065C4.1181 10.1706 4.00281 10.888 3.56634 11.4073L4.33301 12.174C4.65813 11.9017 5.06894 11.753 5.49301 11.754C6.43777 11.7563 7.22725 12.4738 7.31967 13.414H8.41301C8.49636 12.4692 9.29127 11.7468 10.2397 11.754C10.6637 11.753 11.0746 11.9017 11.3997 12.174L12.1463 11.4073C11.7167 10.884 11.6091 10.167 11.8663 9.54065Z"
                  fill="#196FEB"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M5.55967 7.87398C5.55967 6.60005 6.5924 5.56732 7.86634 5.56732C8.47811 5.56732 9.06482 5.81034 9.4974 6.24293C9.92998 6.67551 10.173 7.26222 10.173 7.87398C10.173 9.14792 9.14028 10.1807 7.86634 10.1807C6.5924 10.1807 5.55967 9.14792 5.55967 7.87398ZM6.53301 7.87398C6.53301 8.61036 7.12996 9.20732 7.86634 9.20732C8.60272 9.20732 9.19968 8.61036 9.19968 7.87398C9.19968 7.1376 8.60272 6.54065 7.86634 6.54065C7.12996 6.54065 6.53301 7.1376 6.53301 7.87398Z"
                  fill="#196FEB"
                />
              </svg>
            </span>
            <span>{data.transmisi}</span>
          </div>
          <div className="flex items-center gap-2">
            <span>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M9.70642 9.57398H9.74642C11.0562 8.99582 12.1009 7.94642 12.6731 6.63398V9.54065C12.6784 11.4037 11.5751 13.0914 9.86642 13.834H9.81975C9.25478 14.0732 8.64659 14.1935 8.03309 14.1873C7.44008 14.1889 6.85284 14.071 6.30642 13.8407L6.13309 13.7673C4.42811 13.054 3.32229 11.3821 3.33309 9.53399V9.41398C3.34588 8.46754 3.73158 7.56437 4.40642 6.90065L4.52642 6.78732C5.58725 5.74835 6.46214 4.53522 7.11309 3.20065L8.02642 1.33398C8.02642 1.33398 8.97309 2.66732 9.85309 4.00065C10.9263 5.59305 10.5694 7.74637 9.03975 8.90732H8.95975C8.80096 9.10717 8.8182 9.39455 8.99975 9.57398C9.07569 9.63811 9.17407 9.6693 9.27309 9.66065C9.42115 9.65444 9.56735 9.62521 9.70642 9.57398ZM9.41309 12.9073H9.45976V12.9007C10.7927 12.3164 11.6572 11.0027 11.6664 9.54732C11.2168 9.94301 10.7027 10.2587 10.1464 10.4807L10.0598 10.514C9.80881 10.6117 9.54237 10.6636 9.27309 10.6673C8.90817 10.6802 8.55394 10.5428 8.29309 10.2873C7.74844 9.74902 7.69671 8.88688 8.17309 8.28732C8.23126 8.21462 8.29847 8.14965 8.37309 8.09398H8.41976C9.5439 7.25543 9.80837 5.68037 9.01976 4.52065C8.73309 4.09398 8.44642 3.66732 8.17976 3.28732L8.01309 3.63398C7.30751 5.05611 6.36518 6.34786 5.22643 7.45398L5.10643 7.56732C4.62221 8.04518 4.34458 8.69378 4.33309 9.37399V9.50065C4.31503 10.9534 5.17998 12.272 6.51976 12.834L6.69309 12.9073C7.56221 13.2763 8.54397 13.2763 9.41309 12.9073Z"
                  fill="#196FEB"
                />
              </svg>
            </span>
            <span>{data.bahan_bakar}</span>
          </div>
        </div>
      </div>
      <div className="mt-auto self-end w-full flex flex-col gap-4">
        <hr className="border-t border-netral-400" />

        {isDisewa ? (
          <p className="text-sm text-netral-700">{`Disewa dari tanggal ${data.tanggal_mulai} sampai tanggal ${data.tanggal_akhir}`}</p>
        ) : (
          <div className="flex justify-between items-center">
            <span className="text-netral-600 text-sm">Harga</span>
            <span className="font-semibold text-netral-900">
              {convertRupiah(data.harga_sewa)}
            </span>
          </div>
        )}

        <CardAction isDisewa={isDisewa} id={data.id} />
      </div>
    </div>
  );
}
